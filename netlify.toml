[build]
  # build from the flight-explorer subfolder
  base = "flight-explorer"
  # use npm ci (faster, deterministic) then run the project's build script
  command = "npm ci && npm run build"
  # Vite outputs to `dist` by default. When `base` is set to `flight-explorer`,
  # the publish directory should be relative to that base directory.
  publish = "dist"

[dev]
  # optional: how to run a local netlify dev; won't be used by Netlify production builds
  command = "npm run dev --prefix flight-explorer"

[[redirects]]
  # SPA fallback: serve index.html for all routes
  from = "/*"
  to = "/index.html"
  status = 200
  # Do NOT force this redirect; leaving `force` out ensures Netlify will
  # serve existing static files (JS/CSS/assets) from the `dist` folder and
  # only fall back to index.html for non-file routes handled by the SPA.
